<h2 class="text-2xl font-semibold mb-6">Server</h2>

<div class="flex mb-6">
  <%= link_to "➕ Neuer Server", new_server_path,
              class: "px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition" %>
</div>



<div class="bg-white shadow rounded-lg p-4 mb-4">
  <table class="min-w-full text-sm text-left text-gray-600">
    <thead class="bg-gray-50 text-gray-700 font-semibold">
    <tr>
      <th class="px-4 py-2">Servername</th>
      <th class="px-4 py-2 text-center">Beschreibung</th>
      <th class="px-4 py-2 text-center">Gateways</th>
      <th class="px-4 py-2 text-right">Aktionen</th>
    </tr>
    </thead>

    <tbody class="divide-y divide-gray-200">
    <% @servers.each do |server| %>
      <tr class="hover:bg-gray-50 transition">
        <!-- Name -->
        <td class="px-4 py-2 font-medium text-gray-800">
          <%= server.name %>
        </td>

        <!-- Beschreibung -->
        <td class="px-4 py-2 text-center text-gray-700">
          <%= server.description.presence || "Keine Beschreibung" %>
        </td>

        <!-- Anzahl Gateways -->
        <td class="px-4 py-2 text-center text-gray-700">
          <%= pluralize(server.gateways.count, "Gateway") %>
        </td>

        <!-- Aktionen -->
        <td class="px-4 py-2 text-right">
          <%= link_to "Details", server_path(server),
                      class: "px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 transition" %>


          <%= link_to "Löschen", server_path(server),
                      data: { turbo_method: :delete, turbo_confirm: "Diesen Server wirklich löschen?" },
                      class: "px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-red-700 transition" %>
        </td>
      </tr>
    <% end %>
    </tbody>
  </table>
</div>
