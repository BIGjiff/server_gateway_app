<h1 class="text-2xl font-bold text-[#003366] mb-6">Gateway Übersicht</h1>


<!-- Suchfeld -->
<div class="mb-6">
  <%= form_with url: search_gateways_path, method: :get, local: true do %>
    <div class="flex space-x-2">
      <%= text_field_tag :gateway_query, params[:gateway_query],
                         placeholder: "🔍 Gateway suchen",
                         class: "p-2 border rounded w-64" %>
      <%= submit_tag "Suchen",
                     class: "bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700" %>
    </div>
  <% end %>
</div>
<div class="mt-6">
  <%= link_to "➕ Neues Gateway anlegen", new_gateway_path,
              class: "block bg-white border border-gray-300 rounded-xl shadow-md text-[#003366] font-semibold py-2 px-4 text-center hover:bg-gray-50 transition" %>
</div>
<h2 class="text-2xl font-semibold mb-6">Gateways</h2>

<div class="flex gap-4 mb-6">
  <%= link_to "Alle", gateways_path, class: "px-4 py-2 bg-gray-100 text-gray-800 rounded-lg hover:bg-gray-200" %>
  <%= link_to "Aktive", gateways_path(filter: "active"), class: "px-4 py-2 bg-green-100 text-green-800 rounded-lg hover:bg-green-200" %>
  <%= link_to "Inaktive", gateways_path(filter: "inactive"), class: "px-4 py-2 bg-red-100 text-red-800 rounded-lg hover:bg-red-200" %>
  <%= link_to "Zugewiesen", gateways_path(filter: "assigned"), class: "px-4 py-2 bg-blue-100 text-blue-800 rounded-lg hover:bg-blue-200" %>
  <%= link_to "Unzugewiesen", gateways_path(filter: "unassigned"), class: "px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200" %>
</div>

<div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
  <% @gateways.each do |gateway| %>
    <div class="border border-gray-200 rounded-xl bg-white p-4 shadow-sm hover:shadow-md transition">
      <div class="flex justify-between items-center mb-2">
        <h3 class="font-semibold text-lg text-gray-800">
          <%= gateway.serial %>
        </h3>
        <% if gateway.active %>
          <span class="text-sm text-green-600 font-medium">Aktiv</span>
        <% else %>
          <span class="text-sm text-red-500 font-medium">Inaktiv</span>
        <% end %>
      </div>

      <p class="text-sm text-gray-600 mb-3">
        <%= gateway.server.present? ? "Server: #{gateway.server.name}" : "Kein Server zugewiesen" %>
      </p>

      <div class="flex justify-end">
        <%= link_to "Details", gateway_path(gateway),
                    class: "text-blue-600 hover:text-blue-800 text-sm font-medium" %>
      </div>
    </div>
  <% end %>
</div>



