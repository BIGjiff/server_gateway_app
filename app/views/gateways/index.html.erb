<h1 class="text-2xl font-bold text-[#003366] mb-6">Gateway Übersicht</h1>

<!-- Suchfeld -->
<div class="mb-6">
  <%= form_with url: search_gateways_path, method: :get, local: true do %>
    <div class="flex space-x-2">
      <%= text_field_tag :gateway_query, params[:gateway_query],
                         placeholder: "🔍 Gateway suchen",
                         class: "p-2 border rounded w-64" %>
      <%= submit_tag "Suchen",
                     class: "bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700" %>
    </div>
  <% end %>
</div>
<div class="mt-6">
  <%= link_to "➕ Neues Gateway anlegen", new_gateway_path,
              class: "block bg-white border border-gray-300 rounded-xl shadow-md text-[#003366] font-semibold py-2 px-4 text-center hover:bg-gray-50 transition" %>
</div>
<% @gateways.each do |gateway| %>
  <div class="bg-white border border-gray-300 rounded-xl shadow-md hover:shadow-lg transition p-5 mb-4">
    <h2 class="text-lg font-semibold text-[#003366] mb-2">
      Gateway <%= gateway.serial %>
    </h2>

    <p class="mb-2 text-gray-600">
      Zugewiesen an:
      <% if gateway.server.present? %>
        <span class="font-medium"><%= gateway.server.name %></span>
      <% else %>
        <span class="italic text-gray-400">Kein Server</span>
      <% end %>
    </p>

    <p class="text-gray-600 mb-4">
      Zuletzt bearbeitet: <%= gateway.updated_at.strftime("%d.%m.%Y %H:%M") %>
    </p>

    <div class="flex space-x-3">
      <%= link_to "👁 Anzeigen", gateway_path(gateway), class: "text-blue-600 hover:underline text-sm" %>
      <%= link_to "✏️ Bearbeiten", edit_gateway_path(gateway), class: "text-yellow-600 hover:underline text-sm" %>
      <%= link_to "🗑 Löschen", gateway_path(gateway),
                  data: { turbo_method: :delete, turbo_confirm: "Bist du sicher?" },
                  class: "text-red-600 hover:underline text-sm" %>
    </div>
  </div>
<% end %>


